<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>You GuiNong? 로그인</title>
<link rel="stylesheet" href="/css/login/login.css" type="text/css">
<script src="/js/jquery-3.3.1.min.js"></script>
<script src="/js/json.min.js"></script>
<style>
.simple_login_logo {
	cursor: pointer;
}
</style>
<script type="text/javascript"
	src="https://static.nid.naver.com/js/naverLogin_implicit-1.0.3.js"
	charset="utf-8"></script>
</head>
<body>

	<!-- /*0706 로그인페이지(간편로그인 해야함) */ -->
	<div id="loginForm">

		<form id="frm" th:action="@{/login}" method="post">
			<div class="imgcontainer">
				<img src="/img/logo.png" alt="Avatar" class="avatar">
			</div>

			<div class="container">
				<ul id="logininput">
					<li><label for="uname"><b>아이디</b></label> <input type="text"
						placeholder="아이디를 입력하세요" id="id" name="username" required>
					</li>
					<li><label for="psw"><b>비밀번호</b></label> <input
						type="password" placeholder="패스워드를 입력하세요" id="pw" name="pw"
						required></li>
				</ul>
				<div id="login_button">
					<button type="submit" id="login">로그인</button>
					<button type="button" id="join">회원가입</button>
				</div>
				<span class="psw"><a href="IDFound">아이디/비밀번호찾기</a></span>
			</div>
			<div id="simple_login">
				<br>
				<p>SNS아이디로 간편하게 로그인</p>
				<img src="/img/logo_google.png" id="googleLogin"
					class="simple_login_logo">
				<span id="naver_id_login"></span>
				<img src="/img/logo_kakao.png" id="kakaoLogin"
					class="simple_login_logo">
			</div>
		</form>
	</div>

	<script type="text/javascript">
		var naver_id_login = new naver_id_login("Q38MDDlCsmJD6vKMCJe2",
				"http://localhost:8085/login_callback");
		var state = naver_id_login.getUniqState();
		naver_id_login.setButton("green", 1, 40);
		naver_id_login.setDomain("http://localhost:8085");
		naver_id_login.setState(state);
		naver_id_login.init_naver_id_login();
		
		

		  // 네이버 사용자 프로필 조회
		  if(naver_id_login!=null){
		  	naver_id_login.get_naver_userprofile("naverSignInCallback()");
		  	// 네이버 사용자 프로필 조회 이후 프로필 정보를 처리할 callback function

			function naverSignInCallback() {
		  		let obj={
		  				email: naver_id_login.getProfileData('email'),
		  				nick:naver_id_login.getProfileData('nickname')
		  				
		  		}
				console.log(obj)
			}

		}
	</script>


</body>
</html>